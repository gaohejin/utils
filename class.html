<!--
 * @Description: 
 * @Version: 1.0
 * @Autor: wangmiao
 * @Date: 2020-03-19 10:50:40
 * @LastEditors: wangmiao
 * @LastEditTime: 2020-03-19 11:12:30
 -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="yy" style="width: 100px;height: 100px;background-color: red;color: btn;">btn</div>
  <image class="" src="http://oss.wangmiaozero.cn/demo/console.png" mode="aspectFit|aspectFill|widthFix" lazy-load="false" binderror="" bindload="" />
    
  <script>
  const throttle = function (fn, delay = 500) {
  let _self = fn, //需要被延迟执行的函数引用
    timer,
    firstTime = true; //是否第一次调用
  return function () {
    let args = arguments;
    if (firstTime) { //第一次调用不用延迟
      _self.apply(this, args);
      firstTime = false;
      console.log(true)
    }

    if (timer) { //timer还在没结束前一次
      console.log(false)
      return false;
    }

    timer = setTimeout(() => { //延迟执行
      clearTimeout(timer);
      timer = null; //手动释放timer
      _self.apply(this, args);
    }, delay);
  }
};
     
    document.getElementById('yy').addEventListener('click', throttle(function () {
      console.log(1)
    }, 5000))
  </script>
</body>
</html>